// Generated by CoffeeScript 1.11.1
(function() {
  $(function() {
    $('form').submit(function() {
      return $.ajax({
        async: true,
        type: 'POST',
        url: '/api/v1/login',
        data: Common.emailPassword(),
        dataType: 'json',
        context: this,
        success: function(data, status, xhr) {
          alert(status);
          return Common.saveAccessInfo(data);
        },
        error: function(xhr, status, error) {
          return alert(xhr.responseJSON.exception || xhr.responseJSON.error);
        }
      });
    });
    return $('#user_info_button').click(function() {
      return $.ajax({
        async: true,
        type: 'GET',
        url: "/api/v1/users/" + (Common.userId()),
        headers: {
          'Authorization': Common.accessToken()
        },
        dataType: 'json',
        context: this,
        success: function(data, status, xhr) {
          return alert(JSON.stringify(data));
        },
        error: function(xhr, status, error) {
          return alert(xhr.responseJSON.exception || xhr.responseJSON.error);
        }
      });
    });
  });

}).call(this);
